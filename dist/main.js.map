{"version":3,"file":"main.js","mappings":"qCAuCA,MAvCA,MACIA,WAAAA,CAAYC,EAAIC,EAAMC,EAAOC,EAAOC,GAChCC,KAAKL,GAAKA,EACVK,KAAKJ,KAAOA,EACZI,KAAKH,MAAQA,EACbG,KAAKF,MAAQA,EACbE,KAAKD,IAAMA,CACf,CAEAE,wBAAAA,CAAyBH,GACrB,IACII,EAAcJ,EAASA,GADXK,KAAKC,UAAwC,EAA5BD,KAAKE,MAAMF,KAAKC,UAAgB,IAClB,GAY/C,OATIF,EADAJ,EAAQ,GACMK,KAAKG,KAAKJ,EAAc,GAC/BJ,EAAQ,IAC8B,GAA9BK,KAAKG,KAAKJ,EAAc,IAChCJ,EAAQ,IAC8B,GAA9BK,KAAKG,KAAKJ,EAAc,IAEO,IAA/BC,KAAKG,KAAKJ,EAAc,KAGpCC,KAAKI,IAAIT,EAAQI,GAAe,KAAOA,EAAcF,KAAKC,yBAAyBH,EAC9F,CAEAU,sBAAAA,GACIR,KAAKS,iBAAmBT,KAAKC,yBAAyBD,KAAKF,MAC/D,CAEAY,WAAAA,GACI,OAAQV,KAAKF,MAAQE,KAAKS,gBAC9B,CAEAE,UAAAA,GACI,OAAOX,KAAKF,MAAQE,KAAKS,gBAC7B,GCiEJ,EArGiB,CACb,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SC/FJ,MAAMG,EAAQC,SAASC,eAAe,SAChCC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,UACrCE,EAAiBL,SAASG,cAAc,oBACxCP,EAAmBI,SAASG,cAAc,sBAC1CG,EAAeN,SAASG,cAAc,WACtCI,EAAcP,SAASG,cAAc,UACrCK,EAAeR,SAASG,cAAc,kBACtCM,EAAYT,SAASG,cAAc,eACnCO,EAAgBV,SAASG,cAAc,aACvCQ,EAAaX,SAASG,cAAc,SACpCS,EAAcZ,SAASG,cAAc,iBACrCU,EAAYb,SAASG,cAAc,eACnCW,EAAad,SAASG,cAAc,gBACpCY,EAAQf,SAASG,cAAc,oBACrC,IAAIa,EAAcC,aAAaC,QAAQ,cAAgB,EAGvD,MAAMC,EAAiB,GACjBC,EAAU,CAAC,WAAY,aAAc,aACrCC,EAAU,CAAC,aAAc,SAAU,WAEzC,MAAMC,EACFzC,WAAAA,CAAY0C,GACRpC,KAAKoC,QAAUA,EACfpC,KAAKqC,MAAQ,CACjB,CAEA,kBAAOC,GACH,IAAIC,EAAYJ,EAAKK,gBACrB,KAAOR,EAAeS,QAAQF,IAAc,GAAGA,EAAYJ,EAAKK,gBAEhE,MAAQ,2CAA0CD,gGACtD,CAEA,oBAAOC,GACH,OAAOE,EAASvC,KAAKwC,MAAMxC,KAAKC,SAAWsC,EAASE,QACxD,CAEAC,cAAAA,GACI5B,EAAY6B,MAAMC,QAAU,OAC5BxB,EAAcyB,UAAY,GAC1BvB,EAAYqB,MAAMG,WAAa,SAE/B,IAAIC,EAAcrC,SAASsC,cAAc,MACzCD,EAAYE,aAAa,KAAM,gBAC/BF,EAAYF,UAAYhD,KAAKoC,QAAQxC,KAGrC,IAAIyD,EAAexC,SAASsC,cAAc,OAQ1C,IAPAE,EAAaD,aAAa,KAAM,iBAChCC,EAAaC,IAAMtD,KAAKoC,QAAQvC,MAGhCY,EAAiBuC,UAAa,IAAGhD,KAAKoC,QAAQ3B,sBAGvCS,EAAeqC,YAClBrC,EAAesC,YAAYtC,EAAeqC,YAG9CrC,EAAeuC,OAAOP,GACtBhC,EAAeuC,OAAOJ,EAE1B,CAEAK,cAAAA,GACIvC,EAAawC,UAAW,EACxBvC,EAAYuC,UAAW,EACvBnC,EAAWmC,UAAW,EACtBnC,EAAWwB,UAAY,SAC3B,CAEAY,aAAAA,GACIzC,EAAawC,UAAW,EACxBvC,EAAYuC,UAAW,EAEU,UAA7BnC,EAAWsB,MAAMC,UACjBvB,EAAWmC,UAAW,EACtBnC,EAAWwB,UAAY,OAE/B,CAGA,kBAAMa,CAAaC,GACfA,EAAEC,iBACF/D,KAAK0D,iBACL,IAAIM,EAAW,EAEf,KAAOA,EAAW,GAAG,CACjB,IACI,IAAIC,QAAYC,MAAM/B,EAAKG,eAG3B,GAAI2B,EAAIE,GAAI,CACR,IAAIC,QAAgBH,EAAII,OAEpB1E,EAAKyE,EAAQ1B,SAAS,GAAG4B,IACzB1E,EAAOwE,EAAQ1B,SAAS,GAAG9C,KAC3BC,EAAQuE,EAAQ1B,SAAS,GAAG7C,MAC5BC,EAAQsE,EAAQ1B,SAAS,GAAG6B,UAC5BxE,EAAMqE,EAAQ1B,SAAS,GAAG8B,IAM9B,OAJAxE,KAAKoC,QAAU,IAAIqC,EAAQ9E,EAAIC,EAAMC,EAAOC,EAAOC,GACnDC,KAAKoC,QAAQ5B,yBACbR,KAAK6C,iBACL7C,KAAK4D,gBACE5D,KAAK0E,eAChB,CACJ,CAAE,MAAOC,GAAO,CAEhBX,GAAY,EACRA,EAAW,SACL,IAAIY,SAAQC,GAAWC,WAAWD,EAAS,MAEzD,CACA7E,KAAK4D,eACT,CAEAlD,WAAAA,GACIV,KAAKoC,QAAQtC,MAAQE,KAAKoC,QAAQ3B,iBAAmBT,KAAK+E,UAAY/E,KAAKgF,WAC/E,CAEArE,UAAAA,GACIX,KAAKoC,QAAQtC,MAAQE,KAAKoC,QAAQ3B,iBAAmBT,KAAK+E,UAAY/E,KAAKgF,WAC/E,CAEAD,OAAAA,GACI/E,KAAKqC,QACLrC,KAAKiF,kBACLjD,EAAekD,KAAKlF,KAAKoC,QAAQzC,IACjC0B,EAAa2B,UAAa,UAAShD,KAAKqC,QACxCd,EAAcyB,UAAa,GAAEf,EAAQ9B,KAAKwC,MAAMxC,KAAKC,SAAW6B,EAAQW,wCAAwC5C,KAAKoC,QAAQtC,MAAMqF,QAAQ,KAC3I1D,EAAY2D,KAAQ,GAAEpF,KAAKoC,QAAQrC,MACnC0B,EAAYqB,MAAMG,WAAa,EACnC,CAEA+B,SAAAA,GACIhF,KAAKqC,MAAQ,EACbL,EAAeqD,OAAO,EAAGrD,EAAeY,QACxCvB,EAAa2B,UAAa,UAAShD,KAAKqC,QACxCd,EAAcyB,UAAa,GAAEd,EAAQ/B,KAAKwC,MAAMxC,KAAKC,SAAW8B,EAAQU,wCAAwC5C,KAAKoC,QAAQtC,MAAMqF,QAAQ,KAC3I1D,EAAY2D,KAAQ,GAAEpF,KAAKoC,QAAQrC,MACnC0B,EAAYqB,MAAMG,WAAa,EACnC,CAEAgC,eAAAA,GACQjF,KAAKqC,MAAQiD,SAASzD,KACtBC,aAAayD,QAAQ,YAAavF,KAAKqC,OACvCR,EAAcC,aAAaC,QAAQ,cAEvCT,EAAU0B,UAAa,eAAcnB,GACzC,CAEA6C,aAAAA,GACqC,SAA7BlD,EAAWsB,MAAMC,SACjBvB,EAAWsB,MAAMC,QAAU,QAC3B5B,EAAa2B,MAAMC,QAAU,OAC7B3B,EAAY0B,MAAMC,QAAU,SAE5BvB,EAAWsB,MAAMC,QAAU,OAC3B5B,EAAa2B,MAAMC,QAAU,QAC7B3B,EAAY0B,MAAMC,QAAU,QAEpC,EAQJ,IAAIyC,EAAO,IAAIrD,EAEftB,SAAS4E,iBAAiB,mBAAoBD,EAAKP,gBAAgBS,KAAKF,IACxEvE,EAAYwE,iBAAiB,QAASD,EAAK3B,aAAa6B,KAAKF,IAE7DvE,EAAYwE,iBAAiB,SAAS,WAClC5E,SAASG,cAAc,SAAS8B,MAAM6C,YAAc,SACpD9E,SAASG,cAAc,YAAY8B,MAAM6C,YAAc,SACvD9E,SAASG,cAAc,iBAAiB8B,MAAMG,WAAa,UAC3DlC,EAAQ+B,MAAMG,WAAa,UAC3B9B,EAAa2B,MAAMC,QAAU,QAC7B3B,EAAY0B,MAAMC,QAAU,QAC5B9B,EAAY6B,MAAMC,QAAU,SAC5BnB,EAAMkB,MAAMC,QAAU,MAC1B,IAEAlC,SAAS4E,iBAAiB,oBAAoB,WAC1C7D,EAAMkB,MAAMC,QAAU,MAC1B,IAEArB,EAAU+D,iBAAiB,SAAS,WAChC7D,EAAMkB,MAAMC,QAAU,MAC1B,IAEApB,EAAW8D,iBAAiB,SAAS,WACjC7D,EAAMkB,MAAMC,QAAU,MAC1B,IAIAnC,EAAM6E,iBAAiB,SAlCvB,WACIG,OAAOC,SAAST,KAAO,GAC3B,IAiCAjE,EAAasE,iBAAiB,QAASD,EAAK9E,YAAYgF,KAAKF,IAC7DrE,EAAasE,iBAAiB,QAASD,EAAKd,cAAcgB,KAAKF,IAC/DpE,EAAYqE,iBAAiB,QAASD,EAAK7E,WAAW+E,KAAKF,IAC3DpE,EAAYqE,iBAAiB,QAASD,EAAKd,cAAcgB,KAAKF,IAC9DhE,EAAWiE,iBAAiB,QAASD,EAAK3B,aAAa6B,KAAKF,G","sources":["webpack://higher_or_lower/./src/scripts/product.js","webpack://higher_or_lower/./src/scripts/products.js","webpack://higher_or_lower/./src/scripts/game.js"],"sourcesContent":["class Product {\n    constructor(id, name, image, price, URL) {\n        this.id = id;\n        this.name = name;\n        this.image = image\n        this.price = price;\n        this.URL = URL;\n    }\n\n    generatePlaceholderPrice(price) {\n        let priceSalt = Math.random() * (Math.round(Math.random()) * 2 - 1);\n        let placeholder = price + (price * priceSalt * .2);\n\n        if (price < 10) {\n            placeholder = Math.ceil(placeholder + 1)\n        } else if (price < 100) {\n            placeholder = (Math.ceil(placeholder / 10) * 10)\n        } else if (price < 1000) {\n            placeholder = (Math.ceil(placeholder / 50) * 50)\n        } else {\n            placeholder = (Math.ceil(placeholder / 100) * 100)\n        }\n\n        return Math.abs(price - placeholder) > 1.01 ? placeholder : this.generatePlaceholderPrice(price)\n    }\n\n    assignPlaceholderPrice() {\n        this.placeholderPrice = this.generatePlaceholderPrice(this.price)\n    }\n\n    guessHigher() {\n        return (this.price > this.placeholderPrice);\n    }\n\n    guessLower() {\n        return this.price < this.placeholderPrice\n    }\n}\n\nexport default Product;","const products = [\n    6514052,\n    6514055,\n    6553101,\n    6491295,\n    6537363,\n    6450247,\n    6482022,\n    6501902,\n    6537422,\n    6537371,\n    6558847,\n    6507324,\n    6531621,\n    6471969,\n    6191309,\n    6421866,\n    6513002,\n    6513000,\n    6410013,\n    6512370,\n    6530134,\n    6420141,\n    6420142,\n    6529899,\n    6325628,\n    6419631,\n    6447499,\n    6323156,\n    6427952,\n    6492267,\n    6467055,\n    6397576,\n    6397590,\n    6546221,\n    6546219,\n    6443500,\n    6360748,\n    6468484,\n    6447149,\n    6511565,\n    6488940,\n    6555625,\n    6447922,\n    4943603,\n    6447914,\n    6418524,\n    6447911,\n    4299700,\n    6519870,\n    6411917,\n    6356535,\n    6454256,\n    6472669,\n    6471418,\n    6427076,\n    6488911,\n    6426700,\n    6213287,\n    6514475,\n    6511782,\n    6567807,\n    6441423,\n    6550180,\n    6461328,\n    6454736,\n    6544304,\n    6454733,\n    6377587,\n    6564054,\n    6427739,\n    6344419,\n    6505155,\n    6187502,\n    6361926,\n    6535019,\n    5255027,\n    6411140,\n    6464936,\n    6762924,\n    6519391,\n    6530352,\n    6550445,\n    6540329,\n    6514441,\n    6551564,\n    6473099,\n    6551163,\n    6545966,\n    6550535,\n    6522416,\n    6323759,\n    6546137,\n    6548200,\n    6364719,\n    5852906,\n    6494388,\n    6213101,\n    6473808\n];\n\nexport default products","import Product from \"./product.js\";\nimport products from \"./products.js\";\n\nconst title = document.getElementById('title')\nconst buttons = document.querySelector('.buttons')\nconst startButton = document.querySelector('#start')\nconst productDisplay = document.querySelector('#product-display')\nconst placeholderPrice = document.querySelector('#placeholder-price')\nconst higherButton = document.querySelector('#higher')\nconst lowerButton = document.querySelector('#lower')\nconst currentScore = document.querySelector('#current-score')\nconst highScore = document.querySelector('#high-score')\nconst guessFeedback = document.querySelector('#feedback')\nconst nextButton = document.querySelector('#next')\nconst productLink = document.querySelector('#product-link')\nconst modalOpen = document.querySelector('#modal-open')\nconst modalClose = document.querySelector('#modal-close')\nconst modal = document.querySelector('#modal-container')\nlet lsHighScore = localStorage.getItem(\"highScore\") || 0;\n\n\nconst productHistory = [];\nconst success = [\"Correct!\", \"Well done!\", \"Nice one!\"]\nconst failure = [\"Close one!\", \"Sorry!\", \"Almost!\"]\n\nclass Game {\n    constructor(product) {\n        this.product = product;\n        this.score = 0;\n    }\n\n    static generateURL() {\n        let productId = Game.selectProduct()\n        while (productHistory.indexOf(productId) > -1) productId = Game.selectProduct()\n        const API_KEY = \"FTJXEwF95489m9I5HzWazZ0l\";\n        return `https://api.bestbuy.com/v1/products(sku=${productId})?apiKey=${API_KEY}&sort=name.asc&show=name,image,salePrice,url,sku&format=json`\n    }\n\n    static selectProduct() {\n        return products[Math.floor(Math.random() * products.length)];\n    }\n\n    displayProduct() {\n        startButton.style.display = \"none\";\n        guessFeedback.innerHTML = \"\"\n        productLink.style.visibility = \"hidden\";\n\n        let productName = document.createElement('h3')\n        productName.setAttribute(\"id\", \"product-name\")\n        productName.innerHTML = this.product.name\n\n\n        let productImage = document.createElement('img')\n        productImage.setAttribute(\"id\", \"product-image\")\n        productImage.src = this.product.image\n\n\n        placeholderPrice.innerHTML = `$${this.product.placeholderPrice}.00`\n\n\n        while (productDisplay.firstChild) {\n            productDisplay.removeChild(productDisplay.firstChild);\n        }\n\n        productDisplay.append(productName);\n        productDisplay.append(productImage);\n\n    }\n\n    disableButtons() {\n        higherButton.disabled = true;\n        lowerButton.disabled = true;\n        nextButton.disabled = true;\n        nextButton.innerHTML = 'Loading';\n    }\n\n    enableButtons() {\n        higherButton.disabled = false;\n        lowerButton.disabled = false;\n\n        if (nextButton.style.display === \"block\") {\n            nextButton.disabled = false;\n            nextButton.innerHTML = 'Next';\n        }\n    }\n\n\n    async fetchProduct(e) {\n        e.preventDefault();\n        this.disableButtons();\n        let attempts = 0;\n\n        while (attempts < 2) {\n            try {\n                let res = await fetch(Game.generateURL());\n\n\n                if (res.ok) {\n                    let resBody = await res.json();\n\n                    let id = resBody.products[0].sku\n                    let name = resBody.products[0].name\n                    let image = resBody.products[0].image\n                    let price = resBody.products[0].salePrice\n                    let URL = resBody.products[0].url\n\n                    this.product = new Product(id, name, image, price, URL);\n                    this.product.assignPlaceholderPrice()\n                    this.displayProduct();\n                    this.enableButtons();\n                    return this.changeButtons();\n                }\n            } catch (err) { }\n\n            attempts += 1\n            if (attempts < 2) {\n                await new Promise(resolve => setTimeout(resolve, 100));\n            }\n        }\n        this.enableButtons();\n    }\n\n    guessHigher() {\n        this.product.price > this.product.placeholderPrice ? this.correct() : this.incorrect()\n    }\n\n    guessLower() {\n        this.product.price < this.product.placeholderPrice ? this.correct() : this.incorrect()\n    }\n\n    correct() {\n        this.score++;\n        this.updateHighScore();\n        productHistory.push(this.product.id);\n        currentScore.innerHTML = `Score: ${this.score}`;\n        guessFeedback.innerHTML = `${success[Math.floor(Math.random() * success.length)]} The actual retail price is $${this.product.price.toFixed(2)}`\n        productLink.href = `${this.product.URL}`;\n        productLink.style.visibility = \"\";\n    }\n\n    incorrect() {\n        this.score = 0;\n        productHistory.splice(0, productHistory.length);\n        currentScore.innerHTML = `Score: ${this.score}`;\n        guessFeedback.innerHTML = `${failure[Math.floor(Math.random() * failure.length)]} The actual retail price is $${this.product.price.toFixed(2)}`\n        productLink.href = `${this.product.URL}`;\n        productLink.style.visibility = \"\";\n    }\n\n    updateHighScore() {\n        if (this.score > parseInt(lsHighScore)) {\n            localStorage.setItem(\"highScore\", this.score);\n            lsHighScore = localStorage.getItem(\"highScore\");\n        }\n        highScore.innerHTML = `High Score: ${lsHighScore}`;\n    }\n\n    changeButtons() {\n        if (nextButton.style.display === \"none\") {\n            nextButton.style.display = \"block\";\n            higherButton.style.display = \"none\";\n            lowerButton.style.display = \"none\";\n        } else {\n            nextButton.style.display = \"none\";\n            higherButton.style.display = \"block\";\n            lowerButton.style.display = \"block\";\n        }\n    }\n\n}\n\nfunction visitHomePage() {\n    window.location.href = '/';\n}\n\nlet game = new Game()\n\ndocument.addEventListener('DOMContentLoaded', game.updateHighScore.bind(game));\nstartButton.addEventListener('click', game.fetchProduct.bind(game));\n\nstartButton.addEventListener('click', function () {\n    document.querySelector('.game').style.borderColor = \"orange\";\n    document.querySelector('.product').style.borderColor = \"orange\";\n    document.querySelector('.main-content').style.visibility = \"visible\";\n    buttons.style.visibility = \"visible\"\n    higherButton.style.display = \"block\"\n    lowerButton.style.display = \"block\"\n    startButton.style.display = \"hidden\"\n    modal.style.display = \"none\"\n})\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    modal.style.display = \"flex\"\n})\n\nmodalOpen.addEventListener('click', function () {\n    modal.style.display = \"flex\"\n})\n\nmodalClose.addEventListener('click', function () {\n    modal.style.display = \"none\"\n})\n\n\n\ntitle.addEventListener('click', visitHomePage);\nhigherButton.addEventListener('click', game.guessHigher.bind(game));\nhigherButton.addEventListener('click', game.changeButtons.bind(game));\nlowerButton.addEventListener('click', game.guessLower.bind(game));\nlowerButton.addEventListener('click', game.changeButtons.bind(game));\nnextButton.addEventListener('click', game.fetchProduct.bind(game));\n\nexport default Game;\n"],"names":["constructor","id","name","image","price","URL","this","generatePlaceholderPrice","placeholder","Math","random","round","ceil","abs","assignPlaceholderPrice","placeholderPrice","guessHigher","guessLower","title","document","getElementById","buttons","querySelector","startButton","productDisplay","higherButton","lowerButton","currentScore","highScore","guessFeedback","nextButton","productLink","modalOpen","modalClose","modal","lsHighScore","localStorage","getItem","productHistory","success","failure","Game","product","score","generateURL","productId","selectProduct","indexOf","products","floor","length","displayProduct","style","display","innerHTML","visibility","productName","createElement","setAttribute","productImage","src","firstChild","removeChild","append","disableButtons","disabled","enableButtons","fetchProduct","e","preventDefault","attempts","res","fetch","ok","resBody","json","sku","salePrice","url","Product","changeButtons","err","Promise","resolve","setTimeout","correct","incorrect","updateHighScore","push","toFixed","href","splice","parseInt","setItem","game","addEventListener","bind","borderColor","window","location"],"sourceRoot":""}